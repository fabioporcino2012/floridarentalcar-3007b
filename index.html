<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FRC ‚Äî Sistema de Processos</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîÑ</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#06090f;--s1:#0d1321;--s2:#151d2e;--s3:#1c2940;--bd:#243049;--bdh:#3a506b;--t1:#eaf0f6;--t2:#8899b0;--t3:#56687d;--blue:#4d8df7;--blueg:rgba(77,141,247,.1);--green:#2dd4a0;--greeng:rgba(45,212,160,.1);--yellow:#f0b429;--yellowg:rgba(240,180,41,.1);--red:#f05252;--redg:rgba(240,82,82,.1);--orange:#fb923c;--orangeg:rgba(251,146,60,.1);--purple:#a78bfa;--purpleg:rgba(167,139,250,.1);--cyan:#22d3ee;--cyang:rgba(34,211,238,.1);--pink:#f472b6;--pinkg:rgba(244,114,182,.1);--frc:#d42027;--r:12px;--rl:16px;--mono:'JetBrains Mono',monospace;--sans:'DM Sans',sans-serif}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:var(--sans);background:var(--bg);color:var(--t1);min-height:100vh}::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-thumb{background:var(--bd);border-radius:3px}
.topbar{position:sticky;top:0;z-index:100;background:rgba(6,9,15,.9);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--bd);padding:10px 20px;display:flex;align-items:center;gap:12px}
.tb-logo{font-family:var(--mono);font-weight:800;font-size:.8rem;color:var(--frc);letter-spacing:-.5px;border-right:1px solid var(--bd);padding-right:14px}
.bc{display:flex;align-items:center;gap:5px;font-size:.78rem;color:var(--t3)}.bc span{cursor:pointer;transition:color .15s}.bc span:hover{color:var(--blue)}.bc .sep{font-size:.65rem}.bc .cur{color:var(--t1);font-weight:600}
.stabs{padding:10px 20px;display:flex;gap:5px;overflow-x:auto;border-bottom:1px solid var(--bd);scrollbar-width:none}.stabs::-webkit-scrollbar{display:none}
.st{font-family:var(--sans);font-size:.7rem;font-weight:600;padding:5px 13px;border-radius:7px;border:1px solid transparent;background:transparent;color:var(--t3);cursor:pointer;white-space:nowrap;transition:all .15s}.st:hover{background:var(--s2);color:var(--t2)}.st.active{background:var(--blueg);border-color:rgba(77,141,247,.25);color:var(--blue)}
.main{padding:20px;max-width:1200px;margin:0 auto}
.sec-tabs{display:flex;gap:6px;margin-bottom:20px;flex-wrap:wrap}
.sect{font-family:var(--sans);font-size:.75rem;font-weight:600;padding:7px 16px;border-radius:8px;border:1px solid var(--bd);background:var(--s1);color:var(--t2);cursor:pointer;transition:all .15s;display:flex;align-items:center;gap:5px}.sect:hover{border-color:var(--bdh);color:var(--t1)}.sect.active{background:var(--blueg);border-color:rgba(77,141,247,.3);color:var(--blue)}
.vcard{background:var(--s1);border:1px solid var(--bd);border-radius:var(--rl);padding:28px}.vcard h2{font-size:1.2rem;margin-bottom:12px}.vcard .vm{font-size:.9rem;color:var(--t2);line-height:1.7;padding:16px;background:var(--s2);border-radius:var(--r);border-left:3px solid var(--blue)}
.org{display:flex;flex-direction:column;align-items:center;gap:0;padding:20px 0}.org-lv{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.org-cn{width:2px;height:24px;background:var(--bd);margin:0 auto}
.oc{background:var(--s1);border:1px solid var(--bd);border-radius:10px;padding:12px 18px;text-align:center;min-width:130px;transition:all .15s}.oc:hover{border-color:var(--blue);transform:translateY(-2px)}.oc.ld{border-color:var(--frc);background:rgba(212,32,39,.06)}.oc.ld .or{color:var(--frc)}.oc.co{border-color:var(--blue);background:var(--blueg)}.oc.co .or{color:var(--blue)}.oc .on{font-size:.82rem;font-weight:700;margin-bottom:2px}.oc .or{font-size:.68rem;font-weight:600;color:var(--t3)}
.kg{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-bottom:20px}.kc{background:var(--s1);border:1px solid var(--bd);border-radius:var(--r);padding:20px}.kc.mm{border-color:rgba(45,212,160,.3);grid-column:1/-1}.kc .kl{font-family:var(--mono);font-size:.6rem;letter-spacing:1.5px;text-transform:uppercase;color:var(--t3);margin-bottom:6px}.kc .kv{font-size:1.5rem;font-weight:800;margin-bottom:4px}.kc .kd{font-size:.78rem;color:var(--t2);line-height:1.4}.kc .kb{height:4px;border-radius:2px;background:var(--s3);margin-top:10px;overflow:hidden}.kc .kf{height:100%;border-radius:2px}
.mf{display:flex;align-items:flex-start;gap:0;overflow-x:auto;padding:12px 0 24px}
.mb{min-width:190px;max-width:210px;flex-shrink:0;cursor:pointer;transition:all .2s}.mb:hover{transform:translateY(-3px)}
.mc{background:var(--s1);border:2px solid var(--bd);border-radius:var(--r);padding:16px;position:relative;transition:all .2s}.mb:hover .mc{border-color:var(--blue);box-shadow:0 6px 24px rgba(77,141,247,.1)}
.mc .mn{font-family:var(--mono);font-size:.58rem;font-weight:700;letter-spacing:.8px;display:inline-block;padding:2px 7px;border-radius:5px;margin-bottom:7px}.mc .mcn{position:absolute;top:8px;right:8px;font-family:var(--mono);font-size:.55rem;color:var(--t3);background:var(--s2);padding:2px 6px;border-radius:4px}
.mc h3{font-size:.82rem;font-weight:700;margin-bottom:4px;line-height:1.25}.mc .md{font-size:.7rem;color:var(--t2);line-height:1.35;margin-bottom:8px}
.mc .mts{display:flex;flex-wrap:wrap;gap:3px}.mtg{font-family:var(--mono);font-size:.55rem;padding:2px 6px;border-radius:4px;font-weight:500}
.mc .mh{margin-top:8px;font-size:.62rem;color:var(--blue);font-weight:600;opacity:0;transition:opacity .15s}.mb:hover .mh{opacity:1}
.mar{display:flex;align-items:center;justify-content:center;min-width:32px;flex-shrink:0;color:var(--t3);font-size:1rem;padding-top:24px}
.mp{background:var(--s1);border:1px solid var(--bd);border-radius:var(--rl);padding:24px;margin-top:16px}.mp h3{font-size:1rem;font-weight:700;margin-bottom:4px}.mp .ms{font-size:.8rem;color:var(--t2);margin-bottom:16px}.mp .mpt{display:flex;gap:5px;flex-wrap:wrap;margin-bottom:16px}
.mfl{display:flex;flex-direction:column;max-width:720px}
.stp{display:grid;grid-template-columns:44px 1fr;gap:12px}
.tl{display:flex;flex-direction:column;align-items:center}
.dt{width:34px;height:34px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:.68rem;font-weight:700;flex-shrink:0;z-index:2}
.dt.action{background:var(--blueg);border:2px solid var(--blue);color:var(--blue)}.dt.decision{background:var(--yellowg);border:2px solid var(--yellow);color:var(--yellow);border-radius:50%}.dt.end-ok{background:var(--greeng);border:2px solid var(--green);color:var(--green)}.dt.end-fail{background:var(--redg);border:2px solid var(--red);color:var(--red)}.dt.wait{background:var(--orangeg);border:2px solid var(--orange);color:var(--orange)}
.ln{width:2px;flex:1;min-height:12px;background:var(--bd)}
.sc{background:var(--s2);border:1px solid var(--bd);border-radius:10px;padding:14px 16px;margin-bottom:6px;transition:border-color .15s}.sc:hover{border-color:rgba(77,141,247,.2)}
.sc h4{font-size:.82rem;font-weight:700;margin-bottom:3px}.sc .sd{font-size:.74rem;color:var(--t2);line-height:1.45;margin-bottom:6px}
.sc .sg{display:flex;flex-wrap:wrap;gap:3px}
.tg{font-family:var(--mono);font-size:.55rem;padding:2px 7px;border-radius:4px;font-weight:600}.tg.resp{background:var(--cyang);color:var(--cyan)}.tg.prazo{background:var(--yellowg);color:var(--yellow)}.tg.sistema{background:var(--purpleg);color:var(--purple)}.tg.meta{background:var(--greeng);color:var(--green)}
.brs{display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-top:6px}.bx{padding:9px 11px;border-radius:8px;border:1px solid}.bx.yes{background:var(--greeng);border-color:rgba(45,212,160,.18)}.bx.no{background:var(--redg);border-color:rgba(240,82,82,.18)}.bx .bl{font-family:var(--mono);font-size:.58rem;font-weight:700;margin-bottom:2px}.bx.yes .bl{color:var(--green)}.bx.no .bl{color:var(--red)}.bx p{font-size:.7rem;color:var(--t2);line-height:1.3}
.pen{background:var(--redg);border:1px solid rgba(240,82,82,.18);border-radius:10px;padding:12px 14px;margin-top:12px}.pen h5{font-family:var(--mono);font-size:.65rem;color:var(--red);letter-spacing:.5px;margin-bottom:6px}.pen li{font-size:.72rem;color:var(--t2);padding-left:16px;position:relative;line-height:1.4;margin-bottom:3px;list-style:none}.pen li::before{content:'‚ö†';position:absolute;left:0;font-size:.65rem}
.bb{font-family:var(--sans);font-size:.78rem;font-weight:600;color:var(--blue);background:var(--blueg);border:1px solid rgba(77,141,247,.25);padding:7px 16px;border-radius:8px;cursor:pointer;margin-bottom:14px;display:inline-block;transition:all .15s}.bb:hover{background:var(--blue);color:#fff}
.empty{text-align:center;padding:50px 20px;color:var(--t3)}.empty .ei{font-size:2rem;margin-bottom:8px}
@media(max-width:768px){.main{padding:14px}.mf{flex-direction:column;align-items:stretch}.mb{max-width:100%;min-width:0}.mar{transform:rotate(90deg);min-width:auto;min-height:20px;padding:0}.brs{grid-template-columns:1fr}.stp{grid-template-columns:36px 1fr;gap:8px}.kg{grid-template-columns:1fr}.org-lv{flex-direction:column;align-items:center}}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.mb,.stp,.kc,.oc{animation:fadeUp .3s ease-out both}
@media print{.topbar,.stabs,.sec-tabs,.bb{display:none!important}body{background:#fff;color:#111}}
</style>
</head>
<body>
<div class="topbar"><div class="tb-logo">FRC PROCESSOS</div><div class="bc" id="bc"><span class="cur"></span></div></div>
<div class="stabs" id="stabs"></div>
<div class="main" id="main"></div>
<script>
// ================================================================
// DATA - Para editar: encontre o setor, altere, salve no GitHub
// ================================================================
function emptyS(name){return{vision:"A definir",org:{leader:{name:"A definir",role:"L√≠der "+name},coords:[],team:[]},meta:{title:"A definir",desc:""},kpis:[{label:"KPI 1",value:"‚Äî",desc:"A definir",target:0,color:"var(--blue)"},{label:"KPI 2",value:"‚Äî",desc:"A definir",target:0,color:"var(--green)"},{label:"KPI 3",value:"‚Äî",desc:"A definir",target:0,color:"var(--yellow)"}],macros:[]}}

const SECTORS = {

"Frota": {
  vision:"Garantir que a FRC tenha sempre a frota certa, no lugar certo, na hora certa. Maximizar a taxa de utiliza√ß√£o, minimizar custos de manuten√ß√£o e garantir que todo ve√≠culo entregue ao cliente esteja em perfeitas condi√ß√µes.",
  org:{leader:{name:"A definir",role:"L√≠der de Frota"},coords:[{name:"A definir",role:"Coord. Oficina"},{name:"A definir",role:"Coord. Log√≠stica"}],team:[{name:"‚Äî",role:"Mec√¢nico"},{name:"‚Äî",role:"Mec√¢nico"},{name:"‚Äî",role:"Aux. Administrativo"}]},
  meta:{title:"Taxa de utiliza√ß√£o da frota ‚â• 85%",desc:"Ve√≠culos alugados / frota total ativa, medido diariamente."},
  kpis:[
    {label:"Taxa de Utiliza√ß√£o",value:"85%",desc:"Ve√≠culos alugados / frota total",target:85,color:"var(--green)"},
    {label:"Tempo M√©dio Parado",value:"< 48h",desc:"Tempo sem alugar ap√≥s devolu√ß√£o",target:70,color:"var(--blue)"},
    {label:"Custo Manut./Receita",value:"< 8%",desc:"Custo manuten√ß√£o como % receita",target:60,color:"var(--yellow)"}
  ],
  macros:[
    {title:"Aquisi√ß√£o de Ve√≠culo",desc:"Compra, documenta√ß√£o e prepara√ß√£o para a frota.",color:0,responsible:"Gestor de Frota",prazo:"7-15 dias",
      micro:[
        {type:"action",title:"Identificar necessidade",desc:"Analisar demanda por categoria (Economy, SUV, Tesla, Mustang, Ram) vs. disponibilidade. Verificar sazonalidade.",tags:[{l:"Gestor Frota",t:"resp"},{l:"Dashboard",t:"sistema"}]},
        {type:"decision",title:"Or√ßamento aprovado?",desc:"Verificar budget conforme plano de expans√£o.",branches:{yes:"Prosseguir com cota√ß√£o.",no:"Solicitar aprova√ß√£o ao CEO com ROI."}},
        {type:"action",title:"Cota√ß√£o e negocia√ß√£o",desc:"Cotar em 3+ fornecedores. Negociar pre√ßo e condi√ß√µes.",tags:[{l:"Gestor Frota",t:"resp"},{l:"5 dias √∫teis",t:"prazo"}]},
        {type:"action",title:"Documenta√ß√£o e registro",desc:"Registrar ve√≠culo, seguro, Dunas, SunPass.",tags:[{l:"Administrativo",t:"resp"},{l:"Dunas",t:"sistema"},{l:"3 dias",t:"prazo"}]},
        {type:"action",title:"Prepara√ß√£o do ve√≠culo",desc:"Inspe√ß√£o, lavagem, acess√≥rios, fotos, cadastro.",tags:[{l:"Oficina",t:"resp"},{l:"2 dias",t:"prazo"}]},
        {type:"end-ok",title:"Ve√≠culo dispon√≠vel para loca√ß√£o",desc:"100% pronto, cadastrado, dispon√≠vel."}
      ],
      penalties:["Atraso > 5 dias: advert√™ncia verbal","Sem documenta√ß√£o em opera√ß√£o: advert√™ncia escrita","Sem inspe√ß√£o entregue: suspens√£o + retreinamento"]
    },
    {title:"Manuten√ß√£o Preventiva",desc:"Revis√µes peri√≥dicas, troca de √≥leo, pneus, freios.",color:1,responsible:"Coord. Oficina",prazo:"Conforme km/tempo",
      micro:[
        {type:"action",title:"Alerta de manuten√ß√£o",desc:"Dunas gera alerta autom√°tico por km ou tempo.",tags:[{l:"Dunas",t:"sistema"},{l:"Autom√°tico",t:"prazo"}]},
        {type:"action",title:"Agendar manuten√ß√£o",desc:"Agendar sem impactar reservas.",tags:[{l:"Coord. Oficina",t:"resp"},{l:"24h ap√≥s alerta",t:"prazo"}]},
        {type:"action",title:"Executar manuten√ß√£o",desc:"Servi√ßos conforme checklist. Registrar tudo.",tags:[{l:"Mec√¢nico",t:"resp"},{l:"Dunas",t:"sistema"}]},
        {type:"decision",title:"Aprovado na inspe√ß√£o?",branches:{yes:"Liberar. Atualizar status.",no:"Retrabalho imediato."}},
        {type:"end-ok",title:"Ve√≠culo liberado",desc:"Manuten√ß√£o registrada, pr√≥ximo alerta programado."}
      ],
      penalties:["N√£o agendada em 24h: advert√™ncia verbal","Manuten√ß√£o vencida em opera√ß√£o: advert√™ncia escrita","Reincid√™ncia: suspens√£o"]
    },
    {title:"Gest√£o de Sinistros",desc:"Dano: comunica√ß√£o, documenta√ß√£o, reparo, retorno.",color:3,responsible:"Gestor Frota + P√≥s-venda",prazo:"Conforme gravidade",
      micro:[
        {type:"action",title:"Receber comunica√ß√£o",desc:"Registrar no Kommo + Dunas com fotos.",tags:[{l:"P√≥s-venda",t:"resp"},{l:"Kommo",t:"sistema"},{l:"Imediato",t:"prazo"}]},
        {type:"action",title:"Classificar gravidade",desc:"Est√©tico leve, mec√¢nico ou perda total.",tags:[{l:"Gestor Frota",t:"resp"}]},
        {type:"decision",title:"Pode continuar operando?",branches:{yes:"Agendar reparo em janela sem reserva.",no:"Retirar. Acionar seguro. Substituto."}},
        {type:"action",title:"Acionar seguro / or√ßar",desc:"Abrir sinistro ou cotar em oficinas.",tags:[{l:"Administrativo",t:"resp"},{l:"48h",t:"prazo"}]},
        {type:"action",title:"Executar e inspecionar reparo",desc:"Acompanhar, cobrar prazos, test drive.",tags:[{l:"Coord. Oficina",t:"resp"}]},
        {type:"end-ok",title:"Ve√≠culo retorna",desc:"Sinistro finalizado, custos apurados."}
      ],
      penalties:["N√£o registrado em 24h: advert√™ncia escrita","Dano mec√¢nico sem autoriza√ß√£o: suspens√£o","Seguro fora do prazo: respons√°vel assume custo"]
    },
    {title:"Controle de Disponibilidade",desc:"Gest√£o di√°ria: dispon√≠veis, alugados, manuten√ß√£o, tr√¢nsito.",color:4,responsible:"Gestor de Frota",prazo:"Di√°rio",
      micro:[
        {type:"action",title:"Atualizar status da frota",desc:"8h: dispon√≠veis, alugados, manuten√ß√£o, tr√¢nsito (ORL/MIA/FLL).",tags:[{l:"Gestor Frota",t:"resp"},{l:"Dashboard",t:"sistema"},{l:"8h di√°rio",t:"prazo"}]},
        {type:"action",title:"Verificar devolu√ß√µes",desc:"Cruzar devolu√ß√µes com reservas pendentes.",tags:[{l:"Operacional",t:"resp"},{l:"Dunas",t:"sistema"}]},
        {type:"decision",title:"Demanda > Disponibilidade?",branches:{yes:"Acionar Cegonha ou emergencial.",no:"Normal. Registrar ociosidade."}},
        {type:"action",title:"Relat√≥rio semanal",desc:"Taxa ocupa√ß√£o por pra√ßa e categoria.",tags:[{l:"Gestor Frota",t:"resp"},{l:"Sexta-feira",t:"prazo"}]},
        {type:"end-ok",title:"Frota otimizada",desc:"Utiliza√ß√£o maximizada."}
      ],
      penalties:["Dashboard n√£o atualizado 8h: advert√™ncia verbal","Cliente sem ve√≠culo: advert√™ncia escrita","Reincid√™ncia 30 dias: reuni√£o performance"]
    },
    {title:"Desativa√ß√£o / Venda",desc:"Fim do ciclo: an√°lise, venda, baixa.",color:7,responsible:"Gestor Frota + Financeiro",prazo:"Conforme ciclo",
      micro:[
        {type:"action",title:"Identificar fim de ciclo",desc:"An√°lise mensal: km, custo, valor revenda.",tags:[{l:"Gestor Frota",t:"resp"},{l:"Mensal",t:"prazo"}]},
        {type:"decision",title:"Custo manter > Benef√≠cio?",branches:{yes:"Iniciar desativa√ß√£o.",no:"Manter. Reavaliar 30 dias."}},
        {type:"action",title:"Preparar para venda",desc:"Cosm√©tica, limpeza, documenta√ß√£o, pre√ßo.",tags:[{l:"Oficina+Financeiro",t:"resp"},{l:"5 dias",t:"prazo"}]},
        {type:"action",title:"Anunciar e vender",desc:"Publicar, negociar, transferir.",tags:[{l:"Administrativo",t:"resp"}]},
        {type:"action",title:"Baixa no sistema",desc:"Remover Dunas, atualizar Dashboard, receita.",tags:[{l:"Gestor Frota",t:"resp"},{l:"Dunas",t:"sistema"}]},
        {type:"end-ok",title:"Ve√≠culo desativado",desc:"Receita registrada, frota atualizada."}
      ],
      penalties:["Custo negativo sem justificativa: advert√™ncia escrita","Baixa n√£o feita 48h: advert√™ncia verbal"]
    }
  ]
},

"Comercial": {
  vision:"Converter o m√°ximo de leads em reservas com excel√™ncia, garantindo que cada turista brasileiro escolha a FRC.",
  org:{leader:{name:"A definir",role:"L√≠der Comercial"},coords:[{name:"A definir",role:"Coord. Vendas ORL"},{name:"A definir",role:"Coord. Vendas MIA/FLL"}],team:[{name:"‚Äî",role:"Vendedor"},{name:"‚Äî",role:"Vendedor"},{name:"‚Äî",role:"Vendedor"},{name:"‚Äî",role:"Vendedor"}]},
  meta:{title:"Meta de reservas mensais: A definir",desc:"Reservas fechadas/m√™s vs. meta."},
  kpis:[
    {label:"Taxa de Convers√£o",value:"A definir",desc:"Leads qualificados que fecharam",target:0,color:"var(--green)"},
    {label:"Tempo de Resposta",value:"< 5 min",desc:"Lead entra ‚Üí primeiro contato",target:0,color:"var(--blue)"},
    {label:"Ticket M√©dio",value:"A definir",desc:"Valor m√©dio por reserva (R$)",target:0,color:"var(--yellow)"}
  ],
  macros:[
    {title:"Capta√ß√£o e Distribui√ß√£o de Leads",desc:"Lead via m√≠dia digital ‚Üí Kommo ‚Üí vendedor.",color:0,responsible:"Gestor Comercial",prazo:"< 5 min",micro:[{type:"action",title:"Aguardando defini√ß√£o com CEO",desc:"Macro aprovado. Micro ser√° detalhado.",tags:[{l:"Pendente",t:"resp"}]}],penalties:["A definir"]},
    {title:"Atendimento e Qualifica√ß√£o",desc:"WhatsApp, qualifica√ß√£o, diferenciais FRC.",color:1,responsible:"Vendedor",prazo:"Mesmo dia",micro:[{type:"action",title:"Aguardando defini√ß√£o com CEO",desc:"Macro aprovado. Micro ser√° detalhado.",tags:[{l:"Pendente",t:"resp"}]}],penalties:["A definir"]},
    {title:"Negocia√ß√£o e Fechamento",desc:"Proposta, negocia√ß√£o, pagamento, reserva.",color:2,responsible:"Vendedor",prazo:"Conforme cliente",micro:[{type:"action",title:"Aguardando defini√ß√£o com CEO",desc:"Macro aprovado. Micro ser√° detalhado.",tags:[{l:"Pendente",t:"resp"}]}],penalties:["A definir"]},
    {title:"Gest√£o de Pipeline e Follow-up",desc:"Leads n√£o fechados: follow-up e reativa√ß√£o.",color:3,responsible:"Vendedor + Gestor",prazo:"Cont√≠nuo",micro:[{type:"action",title:"Aguardando defini√ß√£o com CEO",desc:"Macro aprovado. Micro ser√° detalhado.",tags:[{l:"Pendente",t:"resp"}]}],penalties:["A definir"]},
    {title:"Metas, Performance e Rotina",desc:"Metas, KPIs, ranking, consequ√™ncias.",color:5,responsible:"L√≠der Comercial",prazo:"Mensal",micro:[{type:"action",title:"Aguardando defini√ß√£o com CEO",desc:"Macro aprovado. Micro ser√° detalhado.",tags:[{l:"Pendente",t:"resp"}]}],penalties:["A definir"]}
  ]
},

"MKT":emptyS("MKT"),
"Operacional":emptyS("Operacional"),
"P√≥s-venda":emptyS("P√≥s-venda"),
"Suporte":emptyS("Suporte"),
"Entrega/Devolu√ß√£o":emptyS("Entrega/Devolu√ß√£o"),
"CS":emptyS("CS"),
"Qualidade":emptyS("Qualidade"),
"Pessoas/Cultura":emptyS("Pessoas/Cultura"),
"Oficina":emptyS("Oficina"),
"Update":emptyS("Update"),
"COO":emptyS("COO"),
"Financeiro":emptyS("Financeiro"),
"Plus":emptyS("Plus"),
"Cegonha":emptyS("Cegonha"),
"Kommo":emptyS("Kommo"),
"Dashboard":emptyS("Dashboard"),
"Dunas":emptyS("Dunas"),
"APN":emptyS("APN")

};

// ================================================================
// ENGINE - N√ÉO MEXER AQUI
// ================================================================
const SL=Object.keys(SECTORS);
const CL=[{c:'var(--blue)',bg:'var(--blueg)'},{c:'var(--green)',bg:'var(--greeng)'},{c:'var(--yellow)',bg:'var(--yellowg)'},{c:'var(--orange)',bg:'var(--orangeg)'},{c:'var(--purple)',bg:'var(--purpleg)'},{c:'var(--cyan)',bg:'var(--cyang)'},{c:'var(--pink)',bg:'var(--pinkg)'},{c:'var(--red)',bg:'var(--redg)'}];
const IC={action:'‚ñ∏',decision:'‚óÜ','end-ok':'‚úì','end-fail':'‚úó',wait:'‚è≥'};
let cS=SL[0],cT='fluxos',cM=null;
function e(s){if(!s)return'';const d=document.createElement('div');d.textContent=s;return d.innerHTML}

function rTabs(){document.getElementById('stabs').innerHTML=SL.map(s=>'<button class="st'+(s===cS?' active':'')+'" onclick="go(\''+s+'\')">'+s+'</button>').join('')}
function go(s){cS=s;cT='fluxos';cM=null;rTabs();R()}
function tab(t){cT=t;cM=null;R()}
function oM(i){cM=i;R()}
function bk(){cM=null;R()}

function uBC(){
  const b=document.getElementById('bc');
  if(cM!==null){const m=SECTORS[cS].macros[cM];b.innerHTML='<span onclick="bk()">'+cS+'</span><span class="sep">‚Ä∫</span><span onclick="bk()">Fluxos</span><span class="sep">‚Ä∫</span><span class="cur">'+e(m?.title||'')+'</span>'}
  else{b.innerHTML='<span class="cur">'+cS+'</span>'}
}

function R(){
  uBC();const S=SECTORS[cS],m=document.getElementById('main');
  let h='<div class="sec-tabs">';
  ['visao','org','kpis','fluxos'].forEach(t=>{
    const lb={visao:'üéØ Vis√£o',org:'üë• Organograma',kpis:'üìä Meta & KPIs',fluxos:'üîÑ Fluxos'}[t];
    h+='<button class="sect'+(cT===t?' active':'')+'" onclick="tab(\''+t+'\')">'+lb+'</button>';
  });
  h+='</div>';
  if(cT==='visao')h+=rV(S);else if(cT==='org')h+=rO(S);else if(cT==='kpis')h+=rK(S);else h+=rF(S);
  m.innerHTML=h;
}

function rV(S){return'<div class="vcard"><h2>üéØ Vis√£o: '+cS+'</h2><div class="vm">'+(e(S.vision)||'<em style="color:var(--t3)">N√£o definida.</em>')+'</div></div>'}

function rO(S){
  const o=S.org;if(!o||!o.leader)return'<div class="empty"><div class="ei">üë•</div><p>Organograma n√£o definido.</p></div>';
  let h='<div class="org"><div class="org-lv"><div class="oc ld"><div class="on">'+e(o.leader.name)+'</div><div class="or">'+e(o.leader.role)+'</div></div></div>';
  if(o.coords?.length){h+='<div class="org-cn"></div><div class="org-lv">';o.coords.forEach((c,i)=>{h+='<div class="oc co" style="animation-delay:'+i*.08+'s"><div class="on">'+e(c.name)+'</div><div class="or">'+e(c.role)+'</div></div>'});h+='</div>'}
  if(o.team?.length){h+='<div class="org-cn"></div><div class="org-lv">';o.team.forEach((t,i)=>{h+='<div class="oc" style="animation-delay:'+i*.06+'s"><div class="on">'+e(t.name)+'</div><div class="or">'+e(t.role)+'</div></div>'});h+='</div>'}
  return h+'</div>';
}

function rK(S){
  let h='<div class="kg"><div class="kc mm"><div class="kl">üéØ META PRINCIPAL</div><div class="kv" style="font-size:1.2rem;color:var(--green)">'+e(S.meta?.title||'A definir')+'</div><div class="kd">'+e(S.meta?.desc||'')+'</div></div>';
  (S.kpis||[]).forEach((k,i)=>{h+='<div class="kc" style="animation-delay:'+(i+1)*.08+'s"><div class="kl">KPI '+(i+1)+'</div><div class="kv" style="color:'+k.color+'">'+e(k.value)+'</div><div class="kd">'+e(k.label)+': '+e(k.desc)+'</div>'+(k.target>0?'<div class="kb"><div class="kf" style="width:'+k.target+'%;background:'+k.color+'"></div></div>':'')+'</div>'});
  return h+'</div>';
}

function rF(S){
  if(cM!==null)return rMi(S);
  const ms=S.macros||[];
  if(!ms.length)return'<div class="empty"><div class="ei">üìã</div><p>Nenhum processo definido para este setor.</p></div>';
  let h='<div class="mf">';
  ms.forEach((m,i)=>{
    const c=CL[(m.color||0)%CL.length],mc=m.micro?.length||0;
    h+='<div class="mb" style="animation-delay:'+i*.06+'s" onclick="oM('+i+')"><div class="mc"><span class="mcn">'+mc+' etapas</span><span class="mn" style="background:'+c.bg+';color:'+c.c+'">MACRO '+(i+1)+'</span><h3>'+e(m.title)+'</h3><div class="md">'+e(m.desc)+'</div><div class="mts"><span class="mtg" style="background:var(--cyang);color:var(--cyan)">'+e(m.responsible)+'</span><span class="mtg" style="background:var(--yellowg);color:var(--yellow)">'+e(m.prazo)+'</span>'+(m.penalties?.length?'<span class="mtg" style="background:var(--redg);color:var(--red)">'+m.penalties.length+' pen.</span>':'')+'</div><div class="mh">Toque para ver micro ‚Üí</div></div></div>';
    if(i<ms.length-1)h+='<div class="mar">‚Üí</div>';
  });
  return h+'</div>';
}

function rMi(S){
  const m=S.macros[cM];if(!m){cM=null;return rF(S)}
  const c=CL[(m.color||0)%CL.length],st=m.micro||[];
  let h='<button class="bb" onclick="bk()">‚Üê Voltar</button><div class="mp"><h3>'+e(m.title)+'</h3><div class="ms">'+e(m.desc)+'</div><div class="mpt"><span class="mtg" style="background:var(--cyang);color:var(--cyan);font-size:.65rem;padding:4px 10px">'+e(m.responsible)+'</span><span class="mtg" style="background:var(--yellowg);color:var(--yellow);font-size:.65rem;padding:4px 10px">'+e(m.prazo)+'</span></div><div class="mfl">';
  st.forEach((s,i)=>{
    const il=i===st.length-1,dt=s.type||'action';
    let tg='';if(s.tags?.length)tg='<div class="sg">'+s.tags.map(t=>'<span class="tg '+(t.t||'resp')+'">'+e(t.l)+'</span>').join('')+'</div>';
    let br='';if(s.branches)br='<div class="brs"><div class="bx yes"><div class="bl">‚úÖ SIM</div><p>'+e(s.branches.yes)+'</p></div><div class="bx no"><div class="bl">‚ùå N√ÉO</div><p>'+e(s.branches.no)+'</p></div></div>';
    h+='<div class="stp" style="animation-delay:'+i*.05+'s"><div class="tl"><div class="dt '+dt+'">'+(IC[dt]||i+1)+'</div>'+(!il?'<div class="ln"></div>':'')+'</div><div class="sc"><h4>'+e(s.title)+'</h4><div class="sd">'+e(s.desc||'')+'</div>'+tg+br+'</div></div>';
  });
  h+='</div>';
  if(m.penalties?.length)h+='<div class="pen"><h5>‚ö† PENALIDADES</h5><ul>'+m.penalties.map(p=>'<li>'+e(p)+'</li>').join('')+'</ul></div>';
  return h+'</div>';
}

rTabs();R();
</script>
</body>
</html>
