<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#0a0a0c">
<title>Fabinho Life System</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{background:#0a0a0c;color:#e5e5e5;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;-webkit-font-smoothing:antialiased;overflow-x:hidden}
input,textarea,button,select{font-family:inherit}
::-webkit-scrollbar{width:0;display:none}
.app{max-width:480px;margin:0 auto;min-height:100vh;position:relative;padding-bottom:80px}
.pg{padding:16px}
.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}
.ll{width:60px;height:60px;border-radius:16px;background:linear-gradient(135deg,#f5a623,#e8890c);display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:800;color:#000;animation:pls 1.5s infinite}
@keyframes pls{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
.nav{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:480px;background:rgba(15,15,17,.97);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-top:1px solid #1f1f23;padding-bottom:env(safe-area-inset-bottom,8px);z-index:100}
.nv{display:flex;justify-content:space-around;padding:8px 4px 4px}
.nb{background:none;border:none;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:3px;padding:2px;min-width:42px}
.nb svg{width:20px;height:20px}.nb span{font-size:9px;letter-spacing:.2px}
.c{background:#151517;border-radius:16px;padding:16px;margin-bottom:12px;border:1px solid #1f1f23}
.ch{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.ct{font-size:15px;font-weight:700;color:#fff}
.ca{font-size:15px;font-weight:700;color:#f5a623;margin-bottom:12px}
.cl{font-size:12px;color:#f5a623;font-weight:600;cursor:pointer}
.sh{display:flex;align-items:center;gap:12px;padding:12px 0 16px}
.sh h1{font-size:22px;font-weight:800;color:#fff;letter-spacing:-.5px}
.sh p{font-size:13px;color:#888;margin-top:2px}
.ta{width:100%;background:#1a1a1e;border:1px solid #2a2a2e;border-radius:10px;padding:12px;color:#e5e5e5;font-size:14px;resize:vertical;outline:none;line-height:1.5}
.ta:focus{border-color:#f5a623}
.inp{width:100%;background:#1a1a1e;border:1px solid #333;border-radius:8px;padding:8px 12px;color:#fff;font-size:14px;outline:none}
.inp:focus{border-color:#f5a623}
.bp{width:100%;padding:14px;border-radius:14px;background:linear-gradient(135deg,#f5a623,#e8890c);border:none;color:#000;font-size:15px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:12px}
.bp:active{transform:scale(.97)}
.bs{padding:10px 18px;border-radius:10px;background:#2a2a2e;border:none;color:#ccc;font-size:13px;font-weight:600;cursor:pointer}
.ba{width:30px;height:30px;border-radius:8px;background:transparent;border:1.5px solid #555;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#888;font-size:16px;flex-shrink:0}
.bd{background:none;border:none;cursor:pointer;color:#555;padding:4px;flex-shrink:0}
.sb{width:28px;height:28px;border-radius:7px;border:none;font-size:11px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center}
.sb:active{transform:scale(.9)}
.pb{height:6px;background:#2a2a2e;border-radius:3px;overflow:hidden}
.pf{height:100%;border-radius:3px;transition:width .5s}
.mg{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}
.mb{padding:10px 4px;border-radius:10px;border:1px solid;display:flex;flex-direction:column;align-items:center;gap:4px;cursor:pointer;background:none}
.ir{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid #1a1a1e}
.ck{width:22px;height:22px;border-radius:11px;border:2px solid;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;background:none}
.cks{width:22px;height:22px;border-radius:6px;border:2px solid;display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;background:none}
.tb{padding:6px 12px;border-radius:20px;border:none;font-size:12px;font-weight:600;cursor:pointer}
.fr{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #1a1a1e;cursor:pointer}
.fl{font-size:13px;color:#888}.fv{font-size:14px;color:#fff;font-weight:500}
.db{background:#1a1a1e;border-radius:12px;padding:12px;margin-bottom:8px;border-left:3px solid}
.bw{display:flex;gap:2px;align-items:flex-end;height:20px}
.bb{flex:1;border-radius:2px;min-height:2px}
</style>
</head>
<body>
<div id="root"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const{useState,useEffect,useCallback}=React;
const SK="fabinho-life-v6";
const MN=["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];
const DN=["Domingo","Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado"];
const td=()=>new Date().toISOString().split("T")[0];

// â”€â”€â”€ ASSESSMENT CATEGORIES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const ACAT=[
  {id:"body",nm:"Corpo & SaÃºde",ic:"ğŸ’ª",cl:"#22c55e",qs:[{id:"q1",t:"Consistente com exercÃ­cios?",tp:"score"},{id:"q2",t:"AlimentaÃ§Ã£o equilibrada?",tp:"score"},{id:"q3",t:"Sono de qualidade?",tp:"score"},{id:"q4",t:"Energia alta?",tp:"score"},{id:"q5",t:"Melhor coisa pela saÃºde:",tp:"text"},{id:"q6",t:"O que melhorar:",tp:"text"}]},
  {id:"mind",nm:"Mente & Crescimento",ic:"ğŸ§ ",cl:"#38bdf8",qs:[{id:"q7",t:"Investi em aprendizado?",tp:"score"},{id:"q8",t:"Li/ouvi/estudei?",tp:"score"},{id:"q9",t:"Foco e clareza?",tp:"score"},{id:"q10",t:"Controlei estresse?",tp:"score"},{id:"q11",t:"Maior aprendizado:",tp:"text"}]},
  {id:"emo",nm:"EmoÃ§Ãµes & Felicidade",ic:"â¤ï¸",cl:"#f472b6",qs:[{id:"q12",t:"Feliz e realizado?",tp:"score"},{id:"q13",t:"Pratiquei gratidÃ£o?",tp:"score"},{id:"q14",t:"DiversÃ£o autÃªntica?",tp:"score"},{id:"q15",t:"Paz e propÃ³sito?",tp:"score"},{id:"q16",t:"Maior alegria:",tp:"text"}]},
  {id:"rel",nm:"Relacionamentos",ic:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§",cl:"#fb923c",qs:[{id:"q17",t:"Tempo com esposa?",tp:"score"},{id:"q18",t:"Presente com filhas?",tp:"score"},{id:"q19",t:"Contato com amigos?",tp:"score"},{id:"q20",t:"RelaÃ§Ãµes profissionais?",tp:"score"},{id:"q21",t:"Reconhecer alguÃ©m:",tp:"text"}]},
  {id:"biz",nm:"NegÃ³cios & Carreira",ic:"ğŸš€",cl:"#f5a623",qs:[{id:"q22",t:"FRC avanÃ§ou?",tp:"score"},{id:"q23",t:"DecisÃµes estratÃ©gicas?",tp:"score"},{id:"q24",t:"Equipe executou?",tp:"score"},{id:"q25",t:"Novos projetos?",tp:"score"},{id:"q26",t:"Maior conquista:",tp:"text"}]},
  {id:"fin",nm:"FinanÃ§as",ic:"ğŸ’°",cl:"#60a5fa",qs:[{id:"q28",t:"SituaÃ§Ã£o melhorou?",tp:"score"},{id:"q29",t:"Disciplina financeira?",tp:"score"},{id:"q30",t:"Investi/poupei?",tp:"score"},{id:"q31",t:"Caminho liberdade?",tp:"score"},{id:"q32",t:"Meta prÃ³ximo mÃªs:",tp:"text"}]},
  {id:"faith",nm:"FÃ© & PropÃ³sito",ic:"ğŸ™",cl:"#a78bfa",qs:[{id:"q33",t:"Conectei com Deus?",tp:"score"},{id:"q34",t:"Integridade?",tp:"score"},{id:"q35",t:"ContribuÃ­ para outros?",tp:"score"},{id:"q36",t:"Vivendo propÃ³sito?",tp:"score"},{id:"q37",t:"ReflexÃ£o espiritual:",tp:"text"}]},
  {id:"rpm",nm:"RPM â€” Resultado/PropÃ³sito/AÃ§Ã£o",ic:"âš¡",cl:"#ef4444",qs:[{id:"q38",t:"RESULTADO mais importante:",tp:"text"},{id:"q39",t:"POR QUE importava:",tp:"text"},{id:"q40",t:"AÃ‡ÃƒO MASSIVA prÃ³ximo mÃªs:",tp:"text"},{id:"q41",t:"Alinhamento com visÃ£o (0-10):",tp:"score"},{id:"q42",t:"Se mudasse UMA coisa:",tp:"text"}]},
  {id:"ov",nm:"AvaliaÃ§Ã£o Geral",ic:"â­",cl:"#fbbf24",qs:[{id:"q43",t:"SatisfaÃ§Ã£o geral:",tp:"score"},{id:"q44",t:"Fui quem quero ser?",tp:"score"},{id:"q45",t:"Progredi nos sonhos?",tp:"score"},{id:"q46",t:"Nota geral do mÃªs:",tp:"score"},{id:"q47",t:"Palavra do mÃªs:",tp:"text"},{id:"q48",t:"Compromisso #1:",tp:"text"}]},
];

// â”€â”€â”€ 12 PILARES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PDEF=[
  {id:"sf",ic:"ğŸ’ª",nm:"SaÃºde FÃ­sica",cl:"#22c55e",q:"Meu corpo estÃ¡ forte, com energia e disciplina nos treinos?",ds:"Academia 6x, alimentaÃ§Ã£o, sono, hidrataÃ§Ã£o 3L, Oura Ring"},
  {id:"sm",ic:"ğŸ§ ",nm:"SaÃºde Mental",cl:"#38bdf8",q:"Estou com clareza, foco e controle emocional?",ds:"Estresse, ansiedade, meditaÃ§Ã£o, equilÃ­brio emocional"},
  {id:"fe",ic:"ğŸ™",nm:"FÃ©",cl:"#a78bfa",q:"Estou conectado com Deus e vivendo Sua vontade?",ds:"BÃ­blia diÃ¡ria, oraÃ§Ã£o, versÃ­culos, permissÃ£o divina"},
  {id:"cj",ic:"â¤ï¸",nm:"CÃ´njuge",cl:"#f472b6",q:"Estou sendo o melhor marido para Thereza?",ds:"Tempo de qualidade, presenÃ§a, amor, Escalade"},
  {id:"fm",ic:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§",nm:"FamÃ­lia",cl:"#fb923c",q:"Estou presente e construindo memÃ³rias com minhas filhas?",ds:"3 filhas, viagens famÃ­lia, Painho, estar presente"},
  {id:"am",ic:"ğŸ¤",nm:"Amigos / Networking",cl:"#facc15",q:"Estou cercado das pessoas certas e gerando valor?",ds:"Networking intencional, novos ambientes, branding pessoal"},
  {id:"tb",ic:"ğŸ¢",nm:"Trabalho / NegÃ³cio",cl:"#f59e0b",q:"FRC cresce e minha equipe executa com excelÃªncia?",ds:"FRC 1000 carros, equipe, planejamento estratÃ©gico"},
  {id:"fn",ic:"ğŸ’°",nm:"FinanÃ§as",cl:"#60a5fa",q:"Estou construindo riqueza e liberdade financeira?",ds:"Cofre 200k, quitar investidores, MICA, reserva"},
  {id:"di",ic:"ğŸ“š",nm:"Desenv. Intelectual",cl:"#818cf8",q:"Estou estudando, lendo e evoluindo?",ds:"3 livros/ano, GPT, cursos, podcasts"},
  {id:"hb",ic:"ğŸ¯",nm:"Hobbies / Prazer",cl:"#34d399",q:"Estou aproveitando a vida e tendo prazer autÃªntico?",ds:"WSOP poker, relÃ³gios, viagens, desfrute"},
  {id:"lb",ic:"âœˆï¸",nm:"Liberdade / Estilo de Vida",cl:"#06b6d4",q:"Vivo a vida que escolhi, com controle do meu tempo?",ds:"Viagens, rotinas fortes, nÃ£o viver no limite"},
  {id:"lg",ic:"ğŸ›ï¸",nm:"Legado / Impacto",cl:"#d97706",q:"Estou deixando marca e transbordando para outros?",ds:"FamÃ­lia, comunidade, provedor, propÃ³sito"},
];

// â”€â”€â”€ ROTINA COMPLETA (hacks integrados) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const RTPL=[
  {tm:"05:00",tk:"Acordar",ct:"m",tp:"Levante imediatamente. NÃ£o negocie com o travesseiro.",ic:"ğŸŒ…"},
  {tm:"05:10",tk:"Vitaminas + Sol",ct:"m",tp:"Luz natural 10min regula ritmo circadiano.",ic:"â˜€ï¸"},
  {tm:"05:30",tk:"Academia + AerÃ³bico 30min",ct:"m",tp:"Corpo forte = mente forte. Produtividade pÃ³s-treino.",ic:"ğŸ‹ï¸"},
  {tm:"06:45",tk:"Sauna / Banho gelado",ct:"m",tp:"Desconforto controlado gera resiliÃªncia mental.",ic:"ğŸ§Š"},
  {tm:"07:15",tk:"Banho + PreparaÃ§Ã£o",ct:"m",tp:"Vista-se como a pessoa que quer ser.",ic:"ğŸš¿"},
  {tm:"07:45",tk:"CafÃ© da manhÃ£ (proteÃ­na)",ct:"h",tp:"ProteÃ­na toda refeiÃ§Ã£o. Sem aÃ§Ãºcar refinado.",ic:"ğŸ¥š"},
  {tm:"08:00",tk:"PLADIN â€” Planejar o dia",ct:"w",tp:"Pense, Leia missÃ£o, Atribua, Defina agenda, Imprevistos, Mentalize.",ic:"ğŸ“‹"},
  {tm:"08:30",tk:"Bloco foco #1 â€” Alto Impacto",ct:"w",tp:"90min sem celular. SÃ³ o que REALMENTE importa. Pareto 80/20.",ic:"ğŸ¯"},
  {tm:"10:00",tk:"ReuniÃµes / Alinhamento",ct:"w",tp:"Pauta â†’ Plano de aÃ§Ã£o â†’ Quem faz â†’ Prazo â†’ Entrega.",ic:"ğŸ‘¥"},
  {tm:"11:30",tk:"Conferir relatÃ³rios / Cobrar",ct:"w",tp:"GPS semanal. NÃºmeros nÃ£o mentem. AntecipaÃ§Ã£o Ã© poder.",ic:"ğŸ“Š"},
  {tm:"12:00",tk:"AlmoÃ§o (proteÃ­na + sem aÃ§Ãºcar)",ct:"h",tp:"Prep meal. Mounjaro. Ãgua 3L/dia. NutrÃ³logo.",ic:"ğŸ¥—"},
  {tm:"13:00",tk:"Bloco foco #2 â€” EstratÃ©gico",ct:"w",tp:"Comprar carros, treinar time, reduÃ§Ã£o custo = Pareto.",ic:"âš¡"},
  {tm:"15:00",tk:"Giro rÃ¡pido / Operacional",ct:"w",tp:"SÃ³ faÃ§a o que SÃ“ VOCÃŠ pode fazer. Delegue o resto.",ic:"ğŸ”„"},
  {tm:"17:00",tk:"Inbox zero + PendÃªncias",ct:"w",tp:"2x/dia. Regra 2min: se leva <2min, faÃ§a agora.",ic:"ğŸ“§"},
  {tm:"18:00",tk:"Presente com famÃ­lia",ct:"f",tp:"Celular longe. Olho no olho. Qualidade > quantidade.",ic:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§"},
  {tm:"19:30",tk:"Jantar leve",ct:"h",tp:"Nada pesado pÃ³s 20h. Impacta direto no sono.",ic:"ğŸ½ï¸"},
  {tm:"20:00",tk:"BÃ­blia / Livro / MeditaÃ§Ã£o",ct:"g",tp:"30min. ConsistÃªncia intelectual + espiritual.",ic:"ğŸ“–"},
  {tm:"20:30",tk:"Ãgua (completar 3L)",ct:"h",tp:"HidrataÃ§Ã£o total antes de dormir.",ic:"ğŸ’§"},
  {tm:"21:00",tk:"RevisÃ£o dia + Planejar amanhÃ£",ct:"g",tp:"O que fiz bem? O que melhorar? GratidÃ£o.",ic:"ğŸ“"},
  {tm:"21:30",tk:"Desligar telas",ct:"h",tp:"Sem telas 1h antes. Quarto frio 18-20Â°C. MagnÃ©sio.",ic:"ğŸ“µ"},
  {tm:"22:00",tk:"Dormir",ct:"h",tp:"Escurecer total. Oura Ring. Meta 7-8h.",ic:"ğŸ˜´"},
];
const CC={"m":"#f5a623","w":"#38bdf8","h":"#22c55e","f":"#f472b6","g":"#a78bfa"};
const CL={"m":"ManhÃ£","w":"Trabalho","h":"SaÃºde","f":"FamÃ­lia","g":"Crescimento"};

// â”€â”€â”€ DEFAULT DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DEF={
  profile:{name:"Fabinho"},
  gratitude:["GC recebido","450 carros na frota","WSOP Aria","Cybertruck quitada","App Turo ativo","Florida Clube ativo","Zerou Fort Motors / Rodrigo / Justino / Flavinho"],
  vision:[
    "Toda honra e glÃ³ria ao Senhor. Deus, que sua palavra se cumpra.",
    "SÃ³ busque o que vai te levar para o prÃ³ximo nÃ­vel. AntecipaÃ§Ã£o Ã© poder.",
    "Se apaixone pela rotina, resultado Ã© consequÃªncia.",
    "Enriquecer Ã© a maestria do que vocÃª faz para outras pessoas.",
    "Quem dÃ¡ mais, recebe mais. Foco em ganhar e em nÃ£o perder."
  ],
  pilares:PDEF.map(p=>({...p,score:0,notes:""})),
  dreams:{
    shortTerm:[{t:"FRC 1.000 carros (2026/27)",d:false},{t:"WSOP 40 dias over 100k prize",d:false},{t:"Cofre 200k atÃ© 10/11/2026",d:false},{t:"75kg e 20% gordura",d:false},{t:"Superar 15% crescimento FRC",d:false},{t:"4 viagens famÃ­lia EUA",d:false},{t:"2 viagens internacionais",d:false},{t:"Tony Robbins evento",d:false},{t:"Fluxo caixa FRC 400k",d:false},{t:"Grupo Porcino resolvido",d:false},{t:"Quitar investidores restantes",d:false},{t:"MeditaÃ§Ã£o 150x / 3 livros",d:false}],
    mediumTerm:[{t:"Ferrari Puro Sangue (04/2027)",d:false},{t:"RM 6702 Branco+Azul (01/2028)",d:false},{t:"Trust 2.000 carros",d:false},{t:"Thereza Escalade nova",d:false},{t:"Casa perfeita: Spa/Garagem/Deck",d:false},{t:"Amex Centurion",d:false},{t:"Rolex/AP Skeleton/Patek RosÃ©",d:false},{t:"Painho com casa dele",d:false}],
    longTerm:[{t:"Viver de rendas total",d:false},{t:"Gulfstream G800",d:false},{t:"Cullinan Rolls Royce",d:false},{t:"Casa Quintas do Lago",d:false},{t:"Faculdade 3 filhas",d:false},{t:"Israel/Egito/Arezzo/Napa",d:false},{t:"Transbordar: famÃ­lia e comunidade",d:false},{t:"Fundo carros investidores (2029)",d:false}],
  },
  health:{meds:[{name:"Mounjaro",dose:"",notes:"Controle apetite"}],oura:{sleep:"",readiness:"",activity:"",hrv:"",rhr:"",temp:""},bio:{weight:"",fat:"",muscle:"",water:"",bone:"",metAge:"",viscFat:""},targets:{weight:"75",fat:"20",muscle:"60"},notes:"",lastAnalysis:""},
  finances:{
    frc:{desc:"Florida Rental Car",bal:"",rev25:"10000000",proj26:"14000000",notes:"Meta 1000 carros. Fluxo 400k"},
    personal:{desc:"Conta Pessoal",bal:"",income:"",expenses:"",notes:"EmergÃªncia 5 meses = 100k"},
    patrimonio:{desc:"PatrimÃ´nio Total",realEstate:"",vehicles:"",investments:"",notes:"Cofre 200k 11/2026"},
    porcino:{desc:"Grupo Porcino",bal:"",notes:"Em andamento"},
    cc:{desc:"Conta Corrente",bal:"",notes:"Sobra, nÃ£o limite"},
  },
  investidores:[{name:"Flavinho",val:"450000",st:"Parcial"},{name:"Justino",val:"350000",st:"Parcial"},{name:"Lake Bessie",val:"",st:"Pendente"},{name:"Solara",val:"",st:"Pendente"}],
  rc:{},journal:[],assessments:{},
  checkDates:[{tp:"Check-up Sangue",last:"2025-02-01",next:"",iv:"6 meses"},{tp:"Dentista",last:"2025-10-01",next:"",iv:"6 meses"},{tp:"Dermatologista",last:"",next:"",iv:"12 meses"},{tp:"Oftalmologista",last:"",next:"",iv:"12 meses"},{tp:"Bio ImpedÃ¢ncia",last:"",next:"",iv:"3 meses"},{tp:"NutrÃ³logo",last:"",next:"",iv:"3 meses"}],
};

// â”€â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const LS={g(k){try{return JSON.parse(localStorage.getItem(k))}catch{return null}},s(k,v){try{localStorage.setItem(k,JSON.stringify(v))}catch{}}};
function dm(t,s){const r={...t};for(const k in s){if(s[k]&&typeof s[k]==="object"&&!Array.isArray(s[k]))r[k]=dm(t[k]||{},s[k]);else r[k]=s[k]}return r}
const dU=d=>{if(!d)return null;return Math.ceil((new Date(d)-new Date())/864e5)};
const sCol=d=>{if(d===null)return"#555";if(d<0)return"#ef4444";if(d<30)return"#f59e0b";return"#22c55e"};

function gFb(a,cid){const qs=ACAT.find(c=>c.id===cid)?.qs.filter(q=>q.tp==="score")||[];const sc=qs.map(q=>a[q.id]||0).filter(s=>s>0);if(!sc.length)return{av:0,lv:"â€”",msg:"",em:"â“"};const av=sc.reduce((a,b)=>a+b,0)/sc.length;if(av>=9)return{av,lv:"ExtraordinÃ¡rio",msg:"ExcelÃªncia! Mantenha e inspire.",em:"ğŸ†"};if(av>=7)return{av,lv:"Forte",msg:"Dobre nos 20% que geram 80%.",em:"ğŸ’ª"};if(av>=5)return{av,lv:"Progresso",msg:"Foque em 1-2 melhorias especÃ­ficas.",em:"ğŸ“ˆ"};if(av>=3)return{av,lv:"AtenÃ§Ã£o",msg:"UMA aÃ§Ã£o. Comece HOJE.",em:"âš ï¸"};return{av,lv:"CrÃ­tico",msg:"Priorize esta Ã¡rea urgente.",em:"ğŸš¨"}}

function gAR(as,yr){const ms=Object.entries(as||{}).filter(([k])=>k.startsWith(yr)).sort();if(ms.length<2)return null;const cs={};ACAT.forEach(cat=>{const sqs=cat.qs.filter(q=>q.tp==="score");const ma=[];ms.forEach(([,d])=>{const sc=sqs.map(q=>d[q.id]||0).filter(s=>s>0);if(sc.length)ma.push(sc.reduce((a,b)=>a+b,0)/sc.length)});if(ma.length){const av=ma.reduce((a,b)=>a+b,0)/ma.length;cs[cat.id]={av:av.toFixed(1),tr:ma.length>=2?ma[ma.length-1]-ma[0]:0,ma,nm:cat.nm,ic:cat.ic,cl:cat.cl}}});const avs=Object.values(cs).map(c=>+c.av);const oA=avs.length?(avs.reduce((a,b)=>a+b,0)/avs.length).toFixed(1):0;const so=Object.values(cs).sort((a,b)=>b.av-a.av);return{cs,oA,best:so[0],worst:so[so.length-1],imp:Object.values(cs).sort((a,b)=>b.tr-a.tr)[0],mc:ms.length}}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// APP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function App(){
  const[data,setData]=useState(DEF);const[tab,setTab]=useState("home");const[ok,setOk]=useState(false);
  useEffect(()=>{const s=LS.g(SK);if(s)setData(dm(DEF,s));setOk(true)},[]);
  const sv=useCallback(nd=>{setData(nd);LS.s(SK,nd)},[]);
  const up=(p,v)=>{const nd=JSON.parse(JSON.stringify(data));const ks=p.split(".");let o=nd;for(let i=0;i<ks.length-1;i++)o=o[ks[i]];o[ks[ks.length-1]]=v;sv(nd)};
  if(!ok)return<div className="loading"><div className="ll">F</div></div>;
  const tabs=[
    {id:"home",l:"Home",d:"M3 12l9-8 9 8M5 10v10h4v-6h6v6h4V10"},
    {id:"dreams",l:"Sonhos",d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"},
    {id:"pilares",l:"Pilares",d:"M4 21V7l8-4 8 4v14M8 21V11M12 21V7M16 21V11"},
    {id:"health",l:"SaÃºde",d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"},
    {id:"money",l:"FinanÃ§as",d:"M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"},
    {id:"routine",l:"Rotina",d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"},
    {id:"journal",l:"DiÃ¡rio",d:"M4 19.5A2.5 2.5 0 016.5 17H20M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"},
  ];
  const P={home:<Home d={data} go={setTab}/>,dreams:<Sonhos d={data} sv={sv} up={up}/>,pilares:<Pilares d={data} sv={sv}/>,health:<Saude d={data} sv={sv} up={up}/>,money:<Fin d={data} sv={sv} up={up}/>,routine:<Rotina d={data} sv={sv}/>,journal:<Diario d={data} sv={sv}/>};
  return<div className="app">{P[tab]||P.home}<nav className="nav"><div className="nv">{tabs.map(t=><button key={t.id} className="nb" onClick={()=>setTab(t.id)} style={{color:tab===t.id?"#f5a623":"#8e8e93"}}><svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2" style={{opacity:tab===t.id?1:.5}}><path d={t.d}/></svg><span style={{fontWeight:tab===t.id?700:400}}>{t.l}</span></button>)}</div></nav></div>;
}

// â”€â”€â”€ EDITABLE FIELD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function EF({label,value,onSave,type="text",suffix=""}){
  const[ed,setEd]=useState(false);const[tmp,setTmp]=useState(value||"");
  const s=()=>{onSave(tmp);setEd(false)};
  if(ed)return<div style={{marginBottom:6}}><div style={{fontSize:10,color:"#666",textTransform:"uppercase",letterSpacing:.5,marginBottom:3}}>{label}</div><div style={{display:"flex",gap:6}}><input type={type} value={tmp} onChange={e=>setTmp(e.target.value)} className="inp" autoFocus onKeyDown={e=>e.key==="Enter"&&s()}/><button style={{width:30,height:30,borderRadius:8,background:"#22c55e",border:"none",color:"#000",cursor:"pointer",fontWeight:700,flexShrink:0}} onClick={s}>âœ“</button></div></div>;
  return<div className="fr" onClick={()=>{setTmp(value||"");setEd(true)}}><span className="fl">{label}</span><span className="fv">{value?`${value}${suffix}`:"Editar"}</span></div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HOME
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Home({d,go}){
  const t=new Date();const day=td();
  const ch=d.rc?.[day]||{};const dn=Object.values(ch).filter(Boolean).length;const tot=RTPL.length;const pct=tot?Math.round(dn/tot*100):0;
  const sc=d.pilares.filter(p=>p.score>0);const avg=sc.length?(sc.reduce((a,b)=>a+b.score,0)/sc.length).toFixed(1):"â€”";
  const vi=d.vision||[];const rv=vi[t.getMinutes()%vi.length]||"";
  // streak
  let streak=0;for(let i=0;i<90;i++){const dt=new Date(t);dt.setDate(dt.getDate()-i);const dk=dt.toISOString().split("T")[0];const c=d.rc?.[dk];if(c&&Object.values(c).filter(Boolean).length>=tot*.5)streak++;else if(i>0)break}

  return<div className="pg">
    <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px 0 10px"}}><div><div style={{fontSize:22,fontWeight:700,color:"#fff"}}>OlÃ¡, {d.profile.name} ğŸ‘‹</div><div style={{fontSize:13,color:"#888"}}>{DN[t.getDay()]}, {t.getDate()} de {MN[t.getMonth()]}</div></div><div style={{width:44,height:44,borderRadius:14,background:"linear-gradient(135deg,#f5a623,#e8890c)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontWeight:800,color:"#000"}}>F</div></div>

    {rv&&<div className="c" style={{borderColor:"#2a2a1a",background:"linear-gradient(135deg,#1a1a10,#151517)",padding:14}}><p style={{fontSize:14,color:"#f5a623",fontStyle:"italic",lineHeight:1.6,textAlign:"center"}}>"{rv}"</p></div>}

    <div className="c" onClick={()=>go("routine")} style={{cursor:"pointer"}}>
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8}}><div style={{display:"flex",alignItems:"center",gap:8}}><span style={{fontSize:28,fontWeight:800,color:pct>=80?"#22c55e":pct>=50?"#f5a623":"#888"}}>{pct}%</span><div><div style={{fontSize:13,fontWeight:600,color:"#fff"}}>{dn}/{tot} tarefas hoje</div>{streak>0&&<div style={{fontSize:11,color:"#f5a623"}}>ğŸ”¥ {streak} dias seguidos</div>}</div></div><span className="cl">Abrir â†’</span></div>
      <div className="pb" style={{height:8}}><div className="pf" style={{width:`${pct}%`,background:pct>=80?"#22c55e":pct>=50?"#f5a623":"#ef4444"}}/></div>
    </div>

    <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,marginBottom:12}}>
      <div className="c" style={{textAlign:"center",padding:12,cursor:"pointer"}} onClick={()=>go("pilares")}><div style={{fontSize:20,fontWeight:700,color:"#f5a623"}}>{avg}</div><div style={{fontSize:10,color:"#888"}}>Pilares</div></div>
      <div className="c" style={{textAlign:"center",padding:12,cursor:"pointer"}} onClick={()=>go("health")}><div style={{fontSize:20,fontWeight:700,color:"#22c55e"}}>{d.health?.oura?.sleep||"â€”"}</div><div style={{fontSize:10,color:"#888"}}>Sleep</div></div>
      <div className="c" style={{textAlign:"center",padding:12,cursor:"pointer"}} onClick={()=>go("health")}><div style={{fontSize:20,fontWeight:700,color:"#38bdf8"}}>{d.health?.bio?.weight?d.health.bio.weight+"kg":"â€”"}</div><div style={{fontSize:10,color:"#888"}}>Peso</div></div>
    </div>

    <div className="c" onClick={()=>go("pilares")} style={{cursor:"pointer"}}><div className="ch"><h3 className="ct">âš–ï¸ 12 Pilares</h3><span className="cl">Ver â†’</span></div>
      <div style={{display:"grid",gridTemplateColumns:"repeat(6,1fr)",gap:3}}>{d.pilares.map(p=><div key={p.id} style={{textAlign:"center"}}><div style={{fontSize:12}}>{p.ic}</div><div style={{height:32,background:"#2a2a2e",borderRadius:3,display:"flex",alignItems:"flex-end",margin:"3px auto",width:12}}><div style={{width:"100%",height:`${p.score*10}%`,background:p.cl,borderRadius:3,minHeight:p.score?2:0}}/></div><div style={{fontSize:8,color:"#666"}}>{p.score||"â€”"}</div></div>)}</div>
    </div>

    <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8}}>
      <div className="c" onClick={()=>go("dreams")} style={{cursor:"pointer",padding:12}}><h3 style={{fontSize:13,fontWeight:700,color:"#22c55e",marginBottom:6}}>ğŸ™ GratidÃ£o</h3>{(d.gratitude||[]).slice(0,3).map((g,i)=><div key={i} style={{fontSize:11,color:"#8fce8f",padding:"1px 0"}}>âœ… {g.length>18?g.slice(0,18)+"â€¦":g}</div>)}<div style={{fontSize:10,color:"#666",marginTop:3}}>{(d.gratitude||[]).length} itens â†’</div></div>
      <div className="c" onClick={()=>go("money")} style={{cursor:"pointer",padding:12}}><h3 style={{fontSize:13,fontWeight:700,color:"#60a5fa",marginBottom:6}}>ğŸ’° Investidores</h3>{(d.investidores||[]).map((inv,i)=><div key={i} style={{fontSize:11,padding:"1px 0"}}><span style={{color:inv.st==="Quitado"?"#22c55e":inv.st==="Parcial"?"#f5a623":"#ef4444"}}>â—</span> <span style={{color:"#ccc"}}>{inv.name}</span></div>)}</div>
    </div>

    <div className="c" onClick={()=>go("journal")} style={{cursor:"pointer"}}><div className="ch"><h3 className="ct">ğŸ“‹ AvaliaÃ§Ã£o Mensal</h3><span className="cl">{Object.keys(d.assessments||{}).length} feitas â†’</span></div><p style={{fontSize:12,color:"#888",margin:0}}>Tony Robbins + Wheel of Life + RPM</p></div>
    <div style={{height:90}}/>
  </div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SONHOS â€” GratidÃ£o + VisÃ£o + Metas
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Sonhos({d,sv,up}){
  const[nw,setNw]=useState("");const[at,setAt]=useState(null);const[gO,setGO]=useState(false);const[gN,setGN]=useState("");const[gE,setGE]=useState(-1);const[gT,setGT]=useState("");
  const addG=()=>{if(!gN.trim())return;const nd=JSON.parse(JSON.stringify(d));if(!nd.gratitude)nd.gratitude=[];nd.gratitude.push(gN.trim());sv(nd);setGN("")};
  const rmG=i=>{const nd=JSON.parse(JSON.stringify(d));nd.gratitude.splice(i,1);sv(nd)};
  const svG=(i,v)=>{const nd=JSON.parse(JSON.stringify(d));nd.gratitude[i]=v;sv(nd);setGE(-1)};
  const svV=(i,v)=>{const nd=JSON.parse(JSON.stringify(d));nd.vision[i]=v;sv(nd)};
  const add=c=>{if(!nw.trim())return;const nd=JSON.parse(JSON.stringify(d));nd.dreams[c].push({t:nw.trim(),d:false});sv(nd);setNw("");setAt(null)};
  const tog=(c,i)=>{const nd=JSON.parse(JSON.stringify(d));nd.dreams[c][i].d=!nd.dreams[c][i].d;sv(nd)};
  const rm=(c,i)=>{const nd=JSON.parse(JSON.stringify(d));nd.dreams[c].splice(i,1);sv(nd)};
  const secs=[{k:"shortTerm",t:"ğŸ¯ Curto Prazo",s:"2025-2026",c:"#22c55e"},{k:"mediumTerm",t:"ğŸš€ MÃ©dio Prazo",s:"2027-2028",c:"#f5a623"},{k:"longTerm",t:"ğŸŒŸ Longo Prazo",s:"5+ anos",c:"#a78bfa"}];

  return<div className="pg">
    <div className="sh"><span style={{fontSize:32}}>ğŸŒŸ</span><div><h1>Sonhos & VisÃ£o</h1><p>GratidÃ£o, direÃ§Ã£o, conquistas</p></div></div>
    <div className="c" style={{borderColor:gO?"#22c55e":"#1f1f23"}}>
      <div style={{cursor:"pointer",display:"flex",alignItems:"center",gap:8,paddingBottom:gO?10:0}} onClick={()=>setGO(!gO)}><span style={{color:"#22c55e",transition:"transform .2s",display:"inline-block",transform:gO?"rotate(90deg)":"none"}}>â–¶</span><h3 className="ct" style={{color:"#22c55e"}}>ğŸ™ GratidÃ£o ({(d.gratitude||[]).length})</h3></div>
      {gO&&<div>{(d.gratitude||[]).map((g,i)=><div key={i} className="ir">{gE===i?<><input value={gT} onChange={e=>setGT(e.target.value)} className="inp" style={{flex:1}} autoFocus onKeyDown={e=>e.key==="Enter"&&svG(i,gT)}/><button style={{width:28,height:28,borderRadius:7,background:"#22c55e",border:"none",color:"#000",cursor:"pointer",fontWeight:700,flexShrink:0}} onClick={()=>svG(i,gT)}>âœ“</button></>:<><span style={{color:"#22c55e"}}>âœ…</span><span style={{flex:1,fontSize:14,color:"#ccc",cursor:"pointer"}} onClick={()=>{setGE(i);setGT(g)}}>{g}</span><button className="bd" onClick={()=>rmG(i)}>âœ•</button></>}</div>)}
        <div style={{display:"flex",gap:8,marginTop:8}}><input value={gN} onChange={e=>setGN(e.target.value)} placeholder="Adicionar gratidÃ£o..." className="inp" style={{flex:1}} onKeyDown={e=>e.key==="Enter"&&addG()}/><button style={{width:30,height:30,borderRadius:8,background:"#22c55e",border:"none",color:"#000",cursor:"pointer",fontSize:16,fontWeight:700,flexShrink:0}} onClick={addG}>+</button></div>
      </div>}
    </div>
    <div className="c"><h3 className="ca">âœ¨ Minhas 5 DireÃ§Ãµes</h3><p style={{fontSize:11,color:"#666",marginBottom:10}}>Leia todo dia. Estas frases guiam suas decisÃµes.</p>
      {(d.vision||[]).map((v,i)=><div key={i} style={{marginBottom:8}}><div style={{fontSize:10,color:"#f5a623",fontWeight:700,marginBottom:3}}>DIREÃ‡ÃƒO {i+1}</div><textarea value={v} onChange={e=>svV(i,e.target.value)} className="ta" rows={2} style={{fontSize:13,background:"#0f0f11",borderColor:"#2a2a1a"}}/></div>)}
    </div>
    {secs.map(s=><div className="c" key={s.k}><div className="ch"><div><h3 className="ct" style={{color:s.c}}>{s.t}</h3><div style={{fontSize:11,color:"#666"}}>{s.s}</div></div><button className="ba" style={{borderColor:s.c,color:s.c}} onClick={()=>setAt(s.k)}>+</button></div>
      {d.dreams[s.k].map((x,i)=><div key={i} className="ir"><button className="ck" style={{borderColor:s.c,background:x.d?s.c:"transparent"}} onClick={()=>tog(s.k,i)}>{x.d&&<span style={{color:"#000",fontSize:12}}>âœ“</span>}</button><span style={{flex:1,fontSize:14,color:"#ccc",textDecoration:x.d?"line-through":"none",opacity:x.d?.5:1}}>{x.t}</span><button className="bd" onClick={()=>rm(s.k,i)}>âœ•</button></div>)}
      {at===s.k&&<div style={{display:"flex",gap:8,marginTop:8}}><input value={nw} onChange={e=>setNw(e.target.value)} placeholder="Nova meta..." className="inp" style={{flex:1}} autoFocus onKeyDown={e=>e.key==="Enter"&&add(s.k)}/><button style={{width:30,height:30,borderRadius:8,background:s.c,border:"none",color:"#000",cursor:"pointer",fontWeight:700,flexShrink:0}} onClick={()=>add(s.k)}>âœ“</button></div>}
    </div>)}
    <div style={{height:90}}/>
  </div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PILARES â€” 12 pillars
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Pilares({d,sv}){
  const upS=(id,s)=>{const nd=JSON.parse(JSON.stringify(d));const p=nd.pilares.find(x=>x.id===id);if(p)p.score=s;sv(nd)};
  const upN=(id,n)=>{const nd=JSON.parse(JSON.stringify(d));const p=nd.pilares.find(x=>x.id===id);if(p)p.notes=n;sv(nd)};
  const sc=d.pilares.filter(p=>p.score>0);const avg=sc.length?(sc.reduce((a,b)=>a+b.score,0)/sc.length).toFixed(1):0;
  return<div className="pg">
    <div className="sh"><span style={{fontSize:32}}>âš–ï¸</span><div><h1>12 Pilares</h1><p>Avalie cada Ã¡rea de 1 a 10</p></div></div>
    <div className="c" style={{textAlign:"center",padding:20}}><div style={{fontSize:40,fontWeight:800,color:"#f5a623"}}>{avg}</div><div style={{fontSize:12,color:"#888"}}>MÃ©dia Geral</div>
      <div style={{display:"grid",gridTemplateColumns:"repeat(6,1fr)",gap:3,marginTop:14}}>{d.pilares.map(p=><div key={p.id} style={{textAlign:"center"}}><div style={{fontSize:12}}>{p.ic}</div><div style={{height:40,background:"#2a2a2e",borderRadius:3,display:"flex",alignItems:"flex-end",margin:"3px auto",width:12}}><div style={{width:"100%",height:`${p.score*10}%`,background:p.cl,borderRadius:3,minHeight:p.score?2:0}}/></div><div style={{fontSize:8,color:"#666"}}>{p.score||"â€”"}</div></div>)}</div>
    </div>
    {d.pilares.map(p=><div className="c" key={p.id}><div style={{display:"flex",alignItems:"center",gap:10,marginBottom:4}}><span style={{fontSize:22}}>{p.ic}</span><div style={{flex:1}}><div style={{fontSize:15,fontWeight:700,color:p.cl}}>{p.nm}</div><div style={{fontSize:11,color:"#888"}}>{p.ds}</div></div><div style={{fontSize:22,fontWeight:800,color:p.score?p.cl:"#333"}}>{p.score||"â€”"}</div></div>
      <p style={{fontSize:13,color:"#aaa",margin:"8px 0",fontStyle:"italic",lineHeight:1.4}}>"{p.q}"</p>
      <div style={{display:"flex",gap:3,flexWrap:"wrap"}}>{[1,2,3,4,5,6,7,8,9,10].map(s=><button key={s} className="sb" style={{background:s<=p.score?p.cl:"#2a2a2e",color:s<=p.score?"#000":"#666"}} onClick={()=>upS(p.id,s)}>{s}</button>)}</div>
      <textarea value={p.notes} onChange={e=>upN(p.id,e.target.value)} placeholder="Meta, reflexÃ£o, aÃ§Ã£o..." className="ta" rows={2} style={{marginTop:8,fontSize:13}}/>
    </div>)}
    <div style={{height:90}}/>
  </div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SAÃšDE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Saude({d,sv,up}){
  return<div className="pg">
    <div className="sh"><span style={{fontSize:32}}>â¤ï¸</span><div><h1>SaÃºde & Dados</h1><p>Analise no Claude â†’ traga os dados aqui</p></div></div>
    <div className="c"><h3 className="ca">ğŸ¯ Metas Corporais</h3>
      <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8,textAlign:"center"}}>
        {[{k:"weight",l:"Peso",u:"kg",c:"#22c55e",bk:"weight"},{k:"fat",l:"Gordura",u:"%",c:"#f5a623",bk:"fat"},{k:"muscle",l:"MÃºsculo",u:"kg",c:"#38bdf8",bk:"muscle"}].map(m=><div key={m.k} style={{padding:10,background:"#1a1a1e",borderRadius:10}}><div style={{fontSize:10,color:"#888",marginBottom:3}}>{m.l}</div><div style={{fontSize:22,fontWeight:800,color:m.c}}>{d.health?.targets?.[m.k]||"â€”"}<span style={{fontSize:11}}>{m.u}</span></div><div style={{fontSize:11,color:"#666"}}>Atual: {d.health?.bio?.[m.bk]||"â€”"}{m.u}</div></div>)}
      </div>
      <div style={{marginTop:10}}>
        {[{k:"weight",l:"Meta Peso"},{k:"fat",l:"Meta Gordura %"},{k:"muscle",l:"Meta MÃºsculo kg"}].map(m=><EF key={m.k} label={m.l} value={d.health?.targets?.[m.k]} onSave={v=>up(`health.targets.${m.k}`,v)}/>)}
      </div>
    </div>
    <div className="c"><h3 className="ca">â­• Oura Ring</h3><p style={{fontSize:11,color:"#666",marginBottom:10}}>Dados do app Oura</p>
      <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:6,textAlign:"center",marginBottom:10}}>
        {[{k:"sleep",l:"Sleep",c:"#818cf8"},{k:"readiness",l:"Ready",c:"#22c55e"},{k:"activity",l:"Activity",c:"#f5a623"}].map(m=><div key={m.k} style={{padding:8,background:"#1a1a1e",borderRadius:8}}><div style={{fontSize:9,color:"#888"}}>{m.l}</div><div style={{fontSize:22,fontWeight:800,color:m.c}}>{d.health?.oura?.[m.k]||"â€”"}</div></div>)}
      </div>
      {[{k:"sleep",l:"Sleep Score"},{k:"readiness",l:"Readiness"},{k:"activity",l:"Activity"},{k:"hrv",l:"HRV"},{k:"rhr",l:"Resting HR"},{k:"temp",l:"Temp. VariaÃ§Ã£o"}].map(m=><EF key={m.k} label={m.l} value={d.health?.oura?.[m.k]} onSave={v=>up(`health.oura.${m.k}`,v)}/>)}
    </div>
    <div className="c"><h3 className="ca">âš–ï¸ BioimpedÃ¢ncia</h3><p style={{fontSize:11,color:"#666",marginBottom:10}}>Resultados da balanÃ§a â†’ Claude analisa â†’ salve aqui</p>
      {[{k:"weight",l:"Peso",s:" kg"},{k:"fat",l:"% Gordura",s:"%"},{k:"muscle",l:"Massa Muscular",s:" kg"},{k:"water",l:"% Ãgua",s:"%"},{k:"bone",l:"Massa Ã“ssea",s:" kg"},{k:"metAge",l:"Idade MetabÃ³lica",s:" anos"},{k:"viscFat",l:"Gordura Visceral",s:""}].map(m=><EF key={m.k} label={m.l} value={d.health?.bio?.[m.k]} onSave={v=>up(`health.bio.${m.k}`,v)} suffix={m.s}/>)}
    </div>
    <div className="c"><h3 className="ca">ğŸ’Š Medicamentos</h3>
      {(d.health?.meds||[]).map((m,i)=><div key={i}><EF label="Nome" value={m.name} onSave={v=>{const nd=JSON.parse(JSON.stringify(d));nd.health.meds[i].name=v;sv(nd)}}/><EF label="Dose" value={m.dose} onSave={v=>{const nd=JSON.parse(JSON.stringify(d));nd.health.meds[i].dose=v;sv(nd)}}/></div>)}
    </div>
    <div className="c"><h3 className="ca">ğŸ“… Check-ups</h3>
      {d.checkDates.map((c,i)=>{const dd=dU(c.next);return<div key={i} style={{display:"flex",gap:12,padding:"10px 0",borderBottom:"1px solid #1f1f23"}}><div style={{width:4,borderRadius:2,minHeight:36,background:sCol(dd)}}/><div style={{flex:1}}><div style={{fontSize:14,fontWeight:600,color:"#fff"}}>{c.tp} <span style={{fontSize:10,color:"#888"}}>({c.iv})</span></div><EF label="Ãšltimo" value={c.last} type="date" onSave={v=>{const nd=JSON.parse(JSON.stringify(d));nd.checkDates[i].last=v;sv(nd)}}/><EF label="PrÃ³ximo" value={c.next} type="date" onSave={v=>{const nd=JSON.parse(JSON.stringify(d));nd.checkDates[i].next=v;sv(nd)}}/></div></div>})}
    </div>
    <div className="c"><h3 className="ca">ğŸ“ Ãšltima AnÃ¡lise Claude</h3><textarea value={d.health?.lastAnalysis||""} onChange={e=>up("health.lastAnalysis",e.target.value)} placeholder="Cole aqui o resumo/recomendaÃ§Ãµes que o Claude gerou da sua anÃ¡lise de dados..." className="ta" rows={5}/></div>
    <div style={{height:90}}/>
  </div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FINANÃ‡AS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Fin({d,sv,up}){
  const accs=[{k:"frc",i:"ğŸš—",c:"#38bdf8"},{k:"personal",i:"ğŸ‘¤",c:"#22c55e"},{k:"patrimonio",i:"ğŸ ",c:"#f5a623"},{k:"porcino",i:"ğŸ·",c:"#a78bfa"},{k:"cc",i:"ğŸ¦",c:"#fb923c"}];
  return<div className="pg">
    <div className="sh"><span style={{fontSize:32}}>ğŸ’°</span><div><h1>FinanÃ§as</h1><p>Contas, patrimÃ´nio, investidores</p></div></div>
    {accs.map(a=>{const f=d.finances?.[a.k]||{};return<div className="c" key={a.k}><div style={{display:"flex",alignItems:"center",gap:10,marginBottom:10}}><span style={{fontSize:22}}>{a.i}</span><h3 style={{fontSize:15,fontWeight:700,color:a.c}}>{f.desc||a.k}</h3></div>
      <EF label="Saldo" value={f.bal} onSave={v=>up(`finances.${a.k}.bal`,v)}/>
      {a.k==="frc"&&<><EF label="Revenue 2025" value={f.rev25} onSave={v=>up("finances.frc.rev25",v)}/><EF label="ProjeÃ§Ã£o 2026" value={f.proj26} onSave={v=>up("finances.frc.proj26",v)}/></>}
      {a.k==="personal"&&<><EF label="Renda" value={f.income} onSave={v=>up("finances.personal.income",v)}/><EF label="Gastos" value={f.expenses} onSave={v=>up("finances.personal.expenses",v)}/></>}
      {a.k==="patrimonio"&&<><EF label="ImÃ³veis" value={f.realEstate} onSave={v=>up("finances.patrimonio.realEstate",v)}/><EF label="Investimentos" value={f.investments} onSave={v=>up("finances.patrimonio.investments",v)}/></>}
      <EF label="Notas" value={f.notes} onSave={v=>up(`finances.${a.k}.notes`,v)}/>
    </div>})}
    <div className="c"><h3 className="ca">ğŸ“Š Investidores</h3>
      {(d.investidores||[]).map((inv,i)=><div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid #1a1a1e"}}><div><div style={{fontSize:14,fontWeight:600,color:"#fff"}}>{inv.name}</div>{inv.val&&<div style={{fontSize:12,color:"#888"}}>${parseInt(inv.val).toLocaleString()}</div>}</div><span style={{fontSize:11,padding:"4px 12px",borderRadius:12,fontWeight:600,background:inv.st==="Quitado"?"#1a3a1a":inv.st==="Parcial"?"#3a3a1a":"#3a1a1a",color:inv.st==="Quitado"?"#22c55e":inv.st==="Parcial"?"#f5a623":"#ef4444"}}>{inv.st}</span></div>)}
    </div>
    <div style={{height:90}}/>
  </div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ROTINA â€” Day + hacks + progress + streak
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Rotina({d,sv}){
  const day=td();const now=new Date();
  const ch=d.rc?.[day]||{};const dn=Object.values(ch).filter(Boolean).length;const tot=RTPL.length;const pct=tot?Math.round(dn/tot*100):0;
  const toggle=idx=>{const nd=JSON.parse(JSON.stringify(d));if(!nd.rc)nd.rc={};if(!nd.rc[day])nd.rc[day]={};nd.rc[day][idx]=!nd.rc[day]?.[idx];sv(nd)};
  let streak=0;for(let i=0;i<90;i++){const dt=new Date(now);dt.setDate(dt.getDate()-i);const dk=dt.toISOString().split("T")[0];const c=d.rc?.[dk];if(c&&Object.values(c).filter(Boolean).length>=tot*.5)streak++;else if(i>0)break}
  const groups={m:[],w:[],h:[],f:[],g:[]};RTPL.forEach((r,i)=>{if(groups[r.ct])groups[r.ct].push({...r,idx:i})});

  return<div className="pg">
    <div className="sh"><span style={{fontSize:32}}>âš¡</span><div><h1>Rotina do Dia</h1><p>{DN[now.getDay()]}, {now.getDate()} de {MN[now.getMonth()]}</p></div></div>
    <div className="c" style={{background:"linear-gradient(135deg,#151517,#1a1a10)"}}>
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8}}>
        <div><div style={{fontSize:36,fontWeight:800,color:pct>=80?"#22c55e":pct>=50?"#f5a623":"#888"}}>{pct}%</div><div style={{fontSize:12,color:"#888"}}>{dn}/{tot} completadas</div></div>
        <div style={{textAlign:"right"}}>{streak>0&&<div style={{display:"inline-flex",alignItems:"center",gap:4,padding:"5px 12px",borderRadius:20,fontSize:12,fontWeight:700,background:"#2a2a1a",color:"#f5a623"}}>ğŸ”¥ {streak} dias</div>}</div>
      </div>
      <div className="pb" style={{height:8}}><div className="pf" style={{width:`${pct}%`,background:pct>=80?"#22c55e":pct>=50?"#f5a623":"#ef4444"}}/></div>
    </div>
    {Object.entries(groups).map(([ct,items])=>items.length>0&&<div key={ct}>
      <div style={{display:"flex",alignItems:"center",gap:8,padding:"10px 0 4px"}}><div style={{width:8,height:8,borderRadius:4,background:CC[ct]}}/><span style={{fontSize:13,fontWeight:700,color:CC[ct]}}>{CL[ct]}</span><span style={{fontSize:11,color:"#666"}}>{items.filter(r=>!!ch[r.idx]).length}/{items.length}</span></div>
      {items.map(r=>{const ck=!!ch[r.idx];return<div key={r.idx} className="db" style={{borderLeftColor:ck?"#22c55e":CC[ct],opacity:ck?.55:1,cursor:"pointer"}} onClick={()=>toggle(r.idx)}>
        <div style={{display:"flex",alignItems:"center",gap:8}}>
          <span style={{fontSize:11,color:"#f5a623",fontWeight:600,minWidth:40}}>{r.tm}</span>
          <span style={{fontSize:14}}>{r.ic}</span>
          <div style={{flex:1}}><div style={{fontSize:14,color:"#e5e5e5",textDecoration:ck?"line-through":"none"}}>{r.tk}</div><div style={{fontSize:11,color:"#555",fontStyle:"italic",marginTop:1}}>{r.tp}</div></div>
          <div className="cks" style={{borderColor:ck?"#22c55e":"#444",background:ck?"#22c55e":"transparent"}}>{ck&&<span style={{color:"#000",fontSize:11}}>âœ“</span>}</div>
        </div>
      </div>})}
    </div>)}
    <div className="c" style={{marginTop:8}}><h3 className="ct" style={{color:"#f5a623",marginBottom:10}}>ğŸ“† Semana</h3>
      {[{d:"Dom",t:["Igreja","FamÃ­lia","Review"]},{d:"Seg",t:["FRC","ReuniÃµes"]},{d:"Ter",t:["FRC","Treinamentos"]},{d:"Qua",t:["FRC","RelatÃ³rios"]},{d:"Qui",t:["FRC","Cobrar"]},{d:"Sex",t:["FRC","EstratÃ©gia"]},{d:"SÃ¡b",t:["Esporte","FamÃ­lia","Projeto"]}].map((w,i)=><div key={i} className="ir"><span style={{fontSize:12,fontWeight:700,color:i===now.getDay()?"#f5a623":"#888",width:28}}>{w.d}</span><div style={{display:"flex",flexWrap:"wrap",gap:4}}>{w.t.map((t,j)=><span key={j} style={{fontSize:10,background:i===now.getDay()?"#2a2a1a":"#1a1a1e",color:i===now.getDay()?"#f5a623":"#aaa",padding:"2px 8px",borderRadius:6}}>{t}</span>)}</div></div>)}
    </div>
    <div style={{height:90}}/>
  </div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DIÃRIO â€” Mensal no topo + Journal
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function Diario({d,sv}){
  const[vw,setVw]=useState("main");const[nw,setNw]=useState("");const[nt,setNt]=useState("reflection");const[sh,setSh]=useState(false);
  const now=new Date();const[yr,setYr]=useState(now.getFullYear());const[mo,setMo]=useState(now.getMonth());
  const[ci,setCi]=useState(0);const[ans,setAns]=useState({});
  const mk=`${yr}-${String(mo+1).padStart(2,"0")}`;const ex=d.assessments?.[mk];
  const startA=()=>{setAns(ex||{});setCi(0);setVw("fill")};
  const saveA=()=>{const nd=JSON.parse(JSON.stringify(d));if(!nd.assessments)nd.assessments={};nd.assessments[mk]={...ans,at:new Date().toISOString()};sv(nd);setVw("review")};
  const addJ=()=>{if(!nw.trim())return;const nd=JSON.parse(JSON.stringify(d));nd.journal.unshift({dt:td(),tm:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),tp:nt,tx:nw.trim()});sv(nd);setNw("");setSh(false)};
  const rmJ=i=>{const nd=JSON.parse(JSON.stringify(d));nd.journal.splice(i,1);sv(nd)};
  const tc={reflection:{l:"ReflexÃ£o",e:"ğŸ’­",c:"#a78bfa"},study:{l:"Estudo",e:"ğŸ“š",c:"#38bdf8"},gratitude:{l:"GratidÃ£o",e:"ğŸ™",c:"#22c55e"},idea:{l:"Ideia",e:"ğŸ’¡",c:"#f5a623"},goal:{l:"Meta",e:"ğŸ¯",c:"#ef4444"},dream:{l:"Sonho",e:"âœ¨",c:"#f472b6"}};
  const fm=Object.keys(d.assessments||{}).filter(k=>k.startsWith(String(yr))).length;
  const annual=gAR(d.assessments||{},String(yr));

  if(vw==="main")return<div className="pg">
    <div className="sh"><span style={{fontSize:32}}>ğŸ“”</span><div><h1>DiÃ¡rio & AvaliaÃ§Ã£o</h1><p>Mensal + reflexÃµes diÃ¡rias</p></div></div>
    <div className="c" style={{borderColor:"#f5a623",background:"linear-gradient(135deg,#1a1a10,#151517)"}}>
      <h3 className="ca">ğŸ“‹ AvaliaÃ§Ã£o Mensal</h3>
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10}}>
        <button className="bs" onClick={()=>setYr(y=>y-1)} style={{fontSize:12}}>â—€ {yr-1}</button>
        <span style={{fontSize:16,fontWeight:800,color:"#fff"}}>{yr}</span>
        <button className="bs" onClick={()=>setYr(y=>y+1)} style={{fontSize:12}}>{yr+1} â–¶</button>
      </div>
      <div className="mg">{MN.map((m,i)=>{const done=!!d.assessments?.[`${yr}-${String(i+1).padStart(2,"0")}`];const cur=i===mo&&yr===now.getFullYear();return<button key={i} className="mb" style={{background:done?"#1a3a1a":cur?"#2a2a1a":"#1a1a1e",borderColor:done?"#22c55e":cur?"#f5a623":"#2a2a2e"}} onClick={()=>{setMo(i);if(done){setAns(d.assessments[`${yr}-${String(i+1).padStart(2,"0")}`]);setVw("review")}}}><span style={{fontSize:10,fontWeight:600,color:done?"#22c55e":cur?"#f5a623":"#888"}}>{m.substring(0,3)}</span>{done&&<span style={{fontSize:8}}>âœ…</span>}</button>})}</div>
      <button className="bp" style={{marginTop:10,marginBottom:0}} onClick={startA}>{ex?"âœï¸ Editar":"ğŸ“ Preencher"} {MN[mo]}</button>
      {fm>=2&&<button className="bp" style={{marginTop:6,marginBottom:0,background:"linear-gradient(135deg,#a78bfa,#7c3aed)"}} onClick={()=>setVw("annual")}>ğŸ“Š RevisÃ£o Anual ({fm} meses)</button>}
    </div>
    {!sh?<button className="bp" style={{background:"#2a2a2e",color:"#ccc"}} onClick={()=>setSh(true)}>+ Nova Entrada DiÃ¡rio</button>:
    <div className="c"><div style={{display:"flex",flexWrap:"wrap",gap:6,marginBottom:10}}>{Object.entries(tc).map(([k,v])=><button key={k} className="tb" style={{background:nt===k?v.c:"#2a2a2e",color:nt===k?"#000":"#999"}} onClick={()=>setNt(k)}>{v.e} {v.l}</button>)}</div>
      <textarea value={nw} onChange={e=>setNw(e.target.value)} placeholder="Escreva..." className="ta" rows={4} autoFocus/>
      <div style={{display:"flex",gap:8,marginTop:8}}><button style={{flex:1,padding:10,borderRadius:10,background:"#f5a623",border:"none",color:"#000",fontWeight:700,cursor:"pointer"}} onClick={addJ}>Salvar</button><button className="bs" onClick={()=>{setSh(false);setNw("")}}>Cancelar</button></div></div>}
    {d.journal.length===0&&!sh&&<div className="c" style={{textAlign:"center",padding:24}}><span style={{fontSize:32}}>ğŸ“</span><p style={{color:"#888",fontSize:13,marginTop:6}}>Nenhuma entrada.</p></div>}
    {d.journal.map((e,i)=>{const c=tc[e.tp]||tc.reflection;return<div className="c" key={i}><div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6}}><div style={{display:"flex",alignItems:"center",gap:6}}><span style={{padding:"3px 8px",borderRadius:10,fontSize:10,fontWeight:700,background:c.c,color:"#000"}}>{c.e} {c.l}</span><span style={{fontSize:10,color:"#666"}}>{e.dt} {e.tm}</span></div><button className="bd" onClick={()=>rmJ(i)}>âœ•</button></div><div style={{fontSize:14,color:"#ccc",lineHeight:1.6}}>{e.tx}</div></div>})}
    <div style={{height:90}}/>
  </div>;

  if(vw==="fill"){const cat=ACAT[ci];const prog=((ci+1)/ACAT.length)*100;return<div className="pg">
    <div style={{padding:"8px 0"}}><div style={{display:"flex",justifyContent:"space-between",marginBottom:6}}><button className="bs" onClick={()=>ci>0?setCi(c=>c-1):setVw("main")}>â† {ci===0?"Sair":"Voltar"}</button><span style={{fontSize:12,color:"#888"}}>{ci+1}/{ACAT.length}</span></div><div className="pb"><div className="pf" style={{width:`${prog}%`,background:cat.cl}}/></div></div>
    <div style={{textAlign:"center",padding:"10px 0"}}><div style={{fontSize:32}}>{cat.ic}</div><h2 style={{fontSize:18,fontWeight:800,color:cat.cl}}>{cat.nm}</h2><p style={{fontSize:12,color:"#888"}}>{MN[mo]} {yr}</p></div>
    {cat.qs.map(q=><div className="c" key={q.id}><p style={{fontSize:14,color:"#e5e5e5",marginBottom:10,lineHeight:1.4}}>{q.t}</p>{q.tp==="score"?<div style={{display:"flex",gap:3,flexWrap:"wrap"}}>{[1,2,3,4,5,6,7,8,9,10].map(s=><button key={s} className="sb" style={{background:s<=(ans[q.id]||0)?cat.cl:"#2a2a2e",color:s<=(ans[q.id]||0)?"#000":"#666"}} onClick={()=>setAns(p=>({...p,[q.id]:s}))}>{s}</button>)}</div>:<textarea value={ans[q.id]||""} onChange={e=>setAns(p=>({...p,[q.id]:e.target.value}))} placeholder="Resposta..." className="ta" rows={3}/>}</div>)}
    <div style={{display:"flex",gap:8}}>{ci>0&&<button className="bs" style={{flex:1}} onClick={()=>setCi(c=>c-1)}>â† Anterior</button>}{ci<ACAT.length-1?<button className="bp" style={{flex:2,marginBottom:0}} onClick={()=>setCi(c=>c+1)}>PrÃ³ximo â†’ {ACAT[ci+1].ic}</button>:<button className="bp" style={{flex:2,marginBottom:0,background:"linear-gradient(135deg,#22c55e,#16a34a)"}} onClick={saveA}>âœ… Finalizar</button>}</div>
    <div style={{height:90}}/>
  </div>}

  if(vw==="review"){const ma=ex||ans;return<div className="pg">
    <div style={{display:"flex",alignItems:"center",gap:8,padding:"8px 0"}}><button className="bs" onClick={()=>setVw("main")}>â† Voltar</button><h1 style={{fontSize:17,fontWeight:800,color:"#fff"}}>{MN[mo]} {yr}</h1></div>
    {ACAT.map(cat=>{const fb=gFb(ma,cat.id);if(fb.av===0)return null;return<div className="c" key={cat.id}><div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6}}><div style={{display:"flex",alignItems:"center",gap:6}}><span style={{fontSize:18}}>{cat.ic}</span><div><div style={{fontSize:13,fontWeight:700,color:cat.cl}}>{cat.nm}</div><div style={{fontSize:10,color:"#888"}}>{fb.lv}</div></div></div><div style={{textAlign:"right"}}><div style={{fontSize:20,fontWeight:800,color:cat.cl}}>{fb.av.toFixed(1)}</div><span style={{fontSize:14}}>{fb.em}</span></div></div>
      <div className="pb" style={{marginBottom:4}}><div className="pf" style={{width:`${fb.av*10}%`,background:cat.cl}}/></div>
      <p style={{fontSize:11,color:"#aaa",fontStyle:"italic"}}>{fb.msg}</p>
      {cat.qs.filter(q=>q.tp==="text"&&ma[q.id]).map(q=><div key={q.id} style={{marginTop:4,padding:6,background:"#1a1a1e",borderRadius:6}}><div style={{fontSize:9,color:"#666"}}>{q.t}</div><div style={{fontSize:12,color:"#ccc"}}>{ma[q.id]}</div></div>)}
    </div>})}
    <button className="bs" style={{width:"100%"}} onClick={startA}>âœï¸ Editar</button>
    <div style={{height:90}}/>
  </div>}

  if(vw==="annual"&&annual){const{cs,oA,best,worst,imp,mc}=annual;return<div className="pg">
    <div style={{display:"flex",alignItems:"center",gap:8,padding:"8px 0"}}><button className="bs" onClick={()=>setVw("main")}>â† Voltar</button><h1 style={{fontSize:17,fontWeight:800,color:"#fff"}}>RevisÃ£o {yr}</h1></div>
    <div className="c" style={{textAlign:"center",padding:20}}><div style={{fontSize:48,fontWeight:900,color:"#f5a623"}}>{oA}</div><div style={{fontSize:12,color:"#888"}}>{mc} meses avaliados</div></div>
    <div style={{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:6}}>
      {best&&<div className="c" style={{textAlign:"center",padding:10}}><div style={{fontSize:9,color:"#22c55e",fontWeight:700}}>MELHOR</div><div style={{fontSize:16}}>{best.ic}</div><div style={{fontSize:18,fontWeight:800,color:"#22c55e"}}>{best.av}</div><div style={{fontSize:9,color:"#888"}}>{best.nm}</div></div>}
      {worst&&<div className="c" style={{textAlign:"center",padding:10}}><div style={{fontSize:9,color:"#ef4444",fontWeight:700}}>ATENÃ‡ÃƒO</div><div style={{fontSize:16}}>{worst.ic}</div><div style={{fontSize:18,fontWeight:800,color:"#ef4444"}}>{worst.av}</div><div style={{fontSize:9,color:"#888"}}>{worst.nm}</div></div>}
      {imp&&<div className="c" style={{textAlign:"center",padding:10}}><div style={{fontSize:9,color:"#38bdf8",fontWeight:700}}>EVOLUIU</div><div style={{fontSize:16}}>{imp.ic}</div><div style={{fontSize:18,fontWeight:800,color:"#38bdf8"}}>{imp.tr>0?"+":""}{imp.tr.toFixed(1)}</div><div style={{fontSize:9,color:"#888"}}>{imp.nm}</div></div>}
    </div>
    <div className="c"><h3 className="ca">ğŸ“Š Por Ãrea</h3>{Object.values(cs).sort((a,b)=>b.av-a.av).map(c=><div key={c.nm} style={{marginBottom:10}}><div style={{display:"flex",justifyContent:"space-between",marginBottom:2}}><span style={{fontSize:12,color:"#fff"}}>{c.ic} {c.nm}</span><span style={{fontSize:12,fontWeight:700,color:c.cl}}>{c.av} <span style={{fontSize:10,color:c.tr>0?"#22c55e":"#ef4444"}}>{c.tr>0?"â†‘":"â†“"}{Math.abs(c.tr).toFixed(1)}</span></span></div><div className="pb"><div className="pf" style={{width:`${+c.av*10}%`,background:c.cl}}/></div></div>)}</div>
    <div style={{height:90}}/>
  </div>}
  return<div className="pg"><button className="bs" onClick={()=>setVw("main")}>â† Voltar</button></div>;
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
